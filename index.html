<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mo Fasahat</title>
  <meta name="description" content="Mo Fasahat — selected works." />
  <meta name="theme-color" content="#0b0d10" />
  <style>
    :root{ --bg:#0b0d10; --fg:#eef2f6; --muted:#a3aab6; --line:#1d232f; }
    *{ box-sizing:border-box }
    html,body{ margin:0; padding:0; background:var(--bg); color:var(--fg); font: 16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; height:100%; overflow:hidden }
    a{ color:inherit; text-decoration:none }

    /* Header */
    header{ position:fixed; top:0; left:0; right:0; z-index:50; background:transparent; border:0 }
    .bar{ max-width:1300px; margin:0 auto; padding:14px 24px; display:flex; align-items:center; justify-content:space-between }
    .brand{ font-weight:700; }
    .nav{ display:flex; gap:24px }

    /* Hero */
    .hero{ position:relative; height: 100vh; overflow:hidden }
    .hero img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity .7s ease }
    .hero img.contain{ object-fit:contain; background:#000 }
    .hero img.active{ opacity:1 }
    .dots{ position:absolute; bottom:22px; left:50%; transform:translateX(-50%); display:flex; gap:10px }
    .dots button{ width:38px; height:3px; background:rgba(255,255,255,.45); border:0; border-radius:2px; cursor:pointer }
    .dots button.active{ background:#fff }

    /* Sections */
    .wrap{ max-width:1300px; margin:0 auto; padding:40px 24px }

    /* Masonry grid (Work) */
    .masonry{ column-count:4; column-gap:18px }
    .tile{ break-inside:avoid; margin:0 0 18px 0; position:relative; border-radius:12px; overflow:hidden; border:1px solid var(--line); background:#0f1318 }
    .tile img{ width:100%; display:block; height:auto; aspect-ratio:4/3; object-fit:cover }
    .cap{ position:absolute; inset:auto 0 0 0; padding:14px 16px; color:#fff; background:linear-gradient(to top, rgba(0,0,0,.4), transparent 65%); opacity:0; transition:opacity .25s ease }
    .tile:hover .cap{ opacity:1 }

    @media (max-width: 1200px){ .masonry{ column-count:3 } }
    @media (max-width: 900px){ .masonry{ column-count:2 } }
    @media (max-width: 640px){ .masonry{ column-count:1 } }

    footer{ border-top:1px solid var(--line); color:var(--muted) }
  </style>
</head>
<body>
  <!-- SINGLE, CLEAN HEADER -->
  <header>
    <div class="bar">
      <div class="brand">Mo Fasahat</div>
      <nav class="nav" aria-label="Primary">
        <a href="#about">about</a>
        <a href="#work">work</a>
        <a href="#office">office</a>
      </nav>
    </div>
  </header>

  <!-- FULL-BLEED HERO SLIDESHOW -->
  <section id="hero" class="hero" aria-label="Featured images">
    <!-- images injected by JS -->
    <div class="dots" id="heroDots"></div>
  </section>

  <!-- WORK GRID -->
  <main>
  <!-- HOME ONLY: full-bleed hero slideshow -->
  <section id="hero" class="hero" aria-label="Featured images">
    <div class="dots" id="heroDots"></div>
  </section>
</main>

  

  <script>
    // --- Hero setup (replace with your best 4–5 renders) ---
    const heroImages = [
      'images/hero-1.jpg',
      'images/hero-2.jpg',
      'images/hero-3.jpg',
      'images/hero-4.jpg',
      'images/hero-5.jpg'
    ];
    const hero = document.getElementById('hero');
    const dots = document.getElementById('heroDots');
    let hi = 0, timer;
    function mountHero(){
      heroImages.forEach((src,i)=>{
        const img = document.createElement('img');
        img.src = src; img.alt = '';
        if(i===0) img.classList.add('active');
        hero.appendChild(img);
      });
      dots.innerHTML = heroImages.map((_,i)=>`<button data-i="${i}"></button>`).join('');
      dots.children[0].classList.add('active');
    }
    function heroGoto(i){
      const imgs = [...hero.querySelectorAll('img')];
      imgs.forEach((el,k)=> el.classList.toggle('active', k===i));
      [...dots.children].forEach((d,k)=> d.classList.toggle('active', k===i));
      hi = i;
    }
    function play(){ timer = setInterval(()=> heroGoto((hi+1)%heroImages.length), 6000); }
    function stop(){ clearInterval(timer); }
    mountHero();
    function adjustFit(){
      const vr = window.innerWidth / window.innerHeight; // viewport ratio
      hero.querySelectorAll('img').forEach(img=>{
        if(img.naturalWidth && img.naturalHeight){
          const r = img.naturalWidth / img.naturalHeight;
          // If aspect ratios are very different, avoid cropping by using contain
          img.classList.toggle('contain', Math.abs(r - vr) > 0.35);
        } else {
          img.addEventListener('load', ()=>{
            const r = img.naturalWidth / img.naturalHeight;
            img.classList.toggle('contain', Math.abs(r - vr) > 0.35);
          }, { once:true });
        }
      });
    }
    adjustFit();
    window.addEventListener('resize', adjustFit);
    play();
    dots.addEventListener('click', e=>{ if(e.target.matches('button')){ stop(); heroGoto(+e.target.dataset.i); play(); }});
    window.addEventListener('keydown', e=>{
      if(e.key==='ArrowRight'){ stop(); heroGoto((hi+1)%heroImages.length); play(); }
      if(e.key==='ArrowLeft'){ stop(); heroGoto((hi-1+heroImages.length)%heroImages.length); play(); }
    });

    // --- Work grid data (replace with real) ---
    const projects = [
      { title:'Where the Light Unfolds', year:'2024', image:'images/light-unfolds.jpg', url:'#' },
      { title:'Golpayegan Eco Center', year:'2021', image:'images/golpayegan.jpg', url:'#' },
      { title:'Desert House Studies', year:'2023', image:'images/desert-house.jpg', url:'#' },
      { title:'Film & Visualization', year:'2022', image:'images/visualization.jpg', url:'#' },
      { title:'Fabric Pavilion', year:'2024', image:'images/light-unfolds.jpg', url:'#' },
      { title:'Eco Corridor', year:'2022', image:'images/golpayegan.jpg', url:'#' }
    ];
    const grid = document.getElementById('grid');
    grid.innerHTML = projects.map(p=>`
      <article class="tile">
        <a href="${p.url}" aria-label="${p.title}"><img loading="lazy" src="${p.image}" alt=""></a>
        <div class="cap"><div>${p.title}</div><div style="opacity:.85; font-size:12px">${p.year}</div></div>
      </article>
    `).join('');

    
  </script>
</body>
</html>
